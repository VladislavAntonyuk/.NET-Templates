@page "/fetchdata"
@using App1.Application.UseCases.Class1
@inherits App1BaseComponent
@attribute [StreamRendering()]

<Head Title="Class1" />

<MudText Typo="Typo.h1">Class1</MudText>

<MudText Typo="Typo.body1">This component demonstrates fetching data from a service.</MudText>

<MudButton OnClick="@CreateClass1" Color="Color.Primary">Create item</MudButton>

<MudTable @ref="table" T="Class1Dto" ServerData="LoadClass1s" Virtualize="true" FixedHeader="true">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Class1</MudText>
        <MudSpacer />
        <MudTextField @ref="searchString" T="string" ValueChanged="OnSearch" Placeholder="Search" Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0">
        </MudTextField>
    </ToolBarContent>
    <HeaderContent>
        <MudTh>Id</MudTh>
        <MudTh>Name</MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Id">@context.Id</MudTd>
        <MudTd DataLabel="Name">@context.Name</MudTd>
        <MudTd DataLabel="">
            <MudButton Color="Color.Primary" OnClick="()=>Update(context.Id)">Update</MudButton>
            <MudButton Color="Color.Primary" OnClick="()=>Delete(context.Id)">Delete</MudButton>
        </MudTd>
    </RowTemplate>
    <NoRecordsContent>
        <MudText>No matching records found</MudText>
    </NoRecordsContent>
    <LoadingContent>
        <MudText>Loading...</MudText>
    </LoadingContent>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>